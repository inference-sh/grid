# Kling AI - Video to Audio API

Add audio/sound to videos generated by Kling or user-uploaded videos.

## Endpoints

| Action | Method | URL |
|--------|--------|-----|
| Create Task | POST | `/v1/videos/video-to-audio` |
| Query Single | GET | `/v1/videos/video-to-audio/{task_id}` |
| Query List | GET | `/v1/videos/video-to-audio?pageNum=1&pageSize=30` |

---

## Description

The Video to Audio API adds appropriate sound effects, ambient audio, or music to videos. It can:
- Add ambient sounds matching video content
- Generate sound effects for actions in video
- Add background music
- Combine multiple audio elements

---

## Request Parameters

| Field | Type | Required | Default | Description |
|-------|------|----------|---------|-------------|
| `video_url` | string | **Yes** | - | Video URL to add audio to |
| `prompt` | string | No | - | Description of desired audio |
| `audio_type` | string | No | - | Type of audio to generate |
| `callback_url` | string | No | - | Webhook URL |
| `external_task_id` | string | No | - | Custom task ID |

---

## Video Sources

Works with:
- Videos generated by any Kling model
- User-uploaded videos

---

## Example

### Add Sound to Video

```bash
curl -X POST 'https://api-singapore.klingai.com/v1/videos/video-to-audio' \
-H 'Authorization: Bearer xxx' \
-H 'Content-Type: application/json' \
-d '{
    "video_url": "https://example.com/video.mp4",
    "prompt": "Ocean waves, seagulls, gentle wind"
}'
```

### Add Music

```bash
curl -X POST 'https://api-singapore.klingai.com/v1/videos/video-to-audio' \
-H 'Authorization: Bearer xxx' \
-H 'Content-Type: application/json' \
-d '{
    "video_url": "https://example.com/video.mp4",
    "prompt": "Upbeat electronic background music"
}'
```

---

## Response

```json
{
  "code": 0,
  "message": "string",
  "request_id": "string",
  "data": {
    "task_id": "string",
    "task_status": "succeed",
    "task_status_msg": "string",
    "task_info": {"external_task_id": "string"},
    "final_unit_deduction": "string",
    "created_at": 1722769557708,
    "updated_at": 1722769557708,
    "task_result": {
      "videos": [{
        "id": "string",
        "url": "https://...",
        "duration": "string"
      }]
    }
  }
}
```

---

## Workflow with V2.6

For V2.6 models, you can generate video with sound in one step:

```bash
curl -X POST 'https://api-singapore.klingai.com/v1/videos/text2video' \
-H 'Authorization: Bearer xxx' \
-H 'Content-Type: application/json' \
-d '{
    "model_name": "kling-v2-6",
    "prompt": "Ocean waves crashing on shore",
    "mode": "pro",
    "sound": "on"
}'
```

For older models, use Video to Audio as a post-processing step.

---

## Gotchas

1. **Prompt helps quality** - Descriptive prompts produce more appropriate audio
2. **Video duration** - Audio matches video length
3. **V2.6 alternative** - V2.6 can generate video with sound directly
4. **Original audio** - May replace or mix with existing audio
